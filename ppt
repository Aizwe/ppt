1.研究背景
天基信息网络（Space-Based Information Network），简称天基网，是指利用天基平台（包括同步、中低轨道卫星和空间站等）或空基平台（例如平流层气球、有人或无人飞机等）作为载体，实现空间信息的实时获取、传输和处理的网络系统。天基网是天地一体化网络的重要组成部分，能够实现多种功能的卫星或卫星星座之间的实时互联，紧密集成海、陆、空、天资源，不仅在军事上有重要应用，而且在环境保护、地球探测、海洋监测、防灾减灾等方面也发挥着重要作用[1-2]。
截至2022年4月，全球在轨卫星数量约为20,000颗，而我国在轨卫星已超过3,000颗[3]。随着低成本、模块化、网络化的微型卫星成为热点，未来的天基网将成为一个包含各种航空器、规模庞大、异构的复杂系统[4]。该系统中的资源涉及多平台、多用户，具有高动态性、多类型性、大数据性的特点。针对不同的业务需求，对天基资源进行动态重构和调度是未来天基网发展的基础。近年来，各国都在天基网建设方面进行了大量努力。总体来看，在过去10年国内外天基网方面的研究和建设中，天基资源融合和协同调度方面存在以下难点：
天基资源表达方法缺乏统一标准，天基资源难以共享，天基网中包含多种类型的资源，资源所指代的内容不仅包括信息获取、计算、存储和传输过程中所必备的设备和能力，还涵盖了安全性、可靠性、稳定性等相应的不可见功能性实现。网络中存在需求多样的约束以及各信息资源主体所设计的资源模型的相互独立性，导致了资源在建模、描述和应用等方面的异构性。个体间缺乏统一、完整的资源定义与表达，进而导致网络中不同个体进行资源信息交换时产生信息缺失，资源信息共享时产生资源语义冲突，进行信息处理时产生处理方法不兼容。将分布式、异构、多样的天基资源进行统一标准表达，是在天基信息资源网络中实现信息资源主体间的资源高效共享与有序协同的前提条件。
缺乏对天基资源性能的监测方法，天基资源难以监控，为对天基网进行合理的资源调度，需对天基资源的性能进行实时监测，主要测量链路或端到端带宽、延迟、丢包率等性能参数和拓扑发现。天基资源监测一般分为被动监测和主动监测两种，主动监测的方法可操作性强，用户可以根据网络状况有目的、有选择的对拓扑中的某些链路和节点进行测量，但是，在测量过程中会引入额外探测流量，占用通信资源；被动监测的方法不会向网络中注入额外流量，对网络正常行为影响较小，但如果没有各个节点的协作，难以对网络整体性能进行测量，无法在不同维度对资源使用情况进行测量和描述，两类测量方法均难以满足天基网的需求。
综上所述，未来的天基网发展必然需要跨越天、地平台，实现天地一体的资源统筹管理和综合应用。基于软件定义网络（Software Defined Network，SDN）思想的天基网体系架构，开展天基资源一体化研究意义极其重大，许多关键性难题亟待突破，其中，对天基资源进行虚拟化、动态监控是突破这些难题的重要基础[5]。
2.国内外研究现状
2.1天基资源虚拟化和统一表达研究
虚拟化技术是一种资源管理技术，通过软件对资源进行重新定义，实现资源的动态分配、灵活调度和跨域共享，使“资源”真正成为计算基础设施，满足各种应用的灵活多变的需求[6-7]。但是天基信息网络具有规模庞大、结构复杂、覆盖区域广泛、成员节点种类和数量众多、资源受限等特征，导致天基资源虚拟化面临巨大的挑战。此外天基信息网络中涉及测控任务、观测任务、通信任务等多种任务，不同任务对各个维度资源需求不一，如何实现任务与虚拟资源之间的统一表达和高效匹配是有待攻克的重要问题。
①天基资源虚拟化。天基信息网络中节点的高动态性、资源受限性等特征使得节点资源和链路资源表达困难，目前的资源虚拟化研究多集中在地面网络，对天基资源虚拟化的相关研究较少。Xiangli M 在文献[8]中将资源分为两大部分，即节点资源和链路资源，把节点资源细分为 7 大类别，分别是传感器资源、天线资源、频率资源、计算资源、能量资源、存储资源、其他资源；链路资源可以划分为 5 大类别：跨层间星间链路资源、同层间星间链路资源、星地链路资源、地面链路资源及其他链路资源，针对底层物理资源被占用量不断变化，导致利用率过高或过低的情况，提出了基于虚拟化的空间信息网络资源重配置方法，提出了基于拍卖机制的空间信息网络资源分配算法。归琳在文献[9]中提出将当前任务表达划分为对传输资源、存储资源、处理资源的需求矢量，同时将每颗卫星能提供的资源表达为此时所具备的传输能力、存储能力、处理能力的矢量，从而实现资源的虚拟化；文献[10]中提出将描述两个多属性物体相似性的 Hausdorff 距离引入到虚拟网络资源映射中，在映射虚拟网络时考虑虚拟节点和物理节点的相似性，还考虑网络拓扑等多维属性来完成映射。文献[11]中对卫星的探测能力和传输能力进行了虚拟化表示，把不同卫星的探测能力统一表示为探测精度、探测距离和探测器状态的三元组模型，异构的传输能力统一表示为带宽、延迟和损耗的三元组模型。文献[12]考虑到天基信息网络的动态性和可预测周期性，使用事件驱动的时间扩展图来描述多资源之间的关系。文献[13]提出将天基信息网络划分为不同的自治域，在自治域内部对采用分布式策略对存储资源进行管理。文献[19]提出一种面向用户的应用层天基资源能力虚拟化方法，分析了即时观测信息服务的用户需求及天基资源的属性特征，综合时间、空间、能源、存储等约束条件，将天基资源按照时空逻辑，分层抽象虚拟化成面向用户的服务能力，最终将卫星资源根据用户需求抽象为四种能力：信息观测能力、信息处理能力、信息传输能力、信息分发能力，用户可以根据自己的需求组合使用该天基网具备的能力。
②天基资源统一表达。天基资源的统一表达是指结合每种资源的特点，考查各种资源之间存在着怎样的联系，把这些特征参数、联系都抽象为严格的数学描述，建立多维资源的建模表征。文献[14]分析了以异构网络为特征卫星资源缺乏统一的描述和组织规划，将卫星网络中的底层物理资源分为处理器资源、轨道资源、通信资源和负载资源四类，并提出了一种基于粒度的混合资源描述方法，定义并描述了每个类别的资源属性的多粒度。但是文献为了提高资源搜索效率，牺牲了卫星节点的部分存储空间来缓存每个节点中其他节点资源的索引信息。文献[15]讨论了一种新的空间资源表达方法，它在全球范围内捕获分布式制造网络的位置、时间和持续时间信息，将资源特性同空间信息网络动态架构相结合。文献[16]为了解决卫星通信资源紧缺中的问题，提出了一种基于网络编码的空间信息网络通信资源表示方案，该方案旨在综合利用通信资源，选择多路径并行传输数据，提高了数据传输的冗余度。文献[17]分析卫星和地面综合网络的现状后，结合 SDN、NFV 和移动边缘计算（MEC），提出了一种新的空间——地面综合网络体系结构。该架构基于 NFV技术构建了分布式统一虚拟化平台，在 NFV 平台上部署 MEC，可以实现资源的硬件虚拟化和统一表示，构建虚拟资源池，但该文献中只针对地面网络体系结构进行表示，并未对空间资源具体的虚拟化方法进行描述。文献[18]提出可在动态可重构的天基信息网络架构下，突破异构物理硬件的限制，尝试对卫星网络拓扑和节点资源进行数字化表示。
可见已有研究大部分集中于天基信息网络中的节点资源、链路资源等资源类型分析，采用资源映射的方法对资源和任务进行描述和规划，部分研究采用了虚拟化方法尝试对资源进行统一表达。但是上述文章中忽略了资源之间的相似性和可聚合性，忽略了资源之间的协同性和资源的可转化技术对资源利用率的提高，且不同任务对 QoS 的需求不同。如何多粒度多维度的实现天基资源虚拟化，实现面向资源属性、面向活动、面向过程的天基信息网络的虚拟资源生成和资源统一表达仍有待研究。
综上所述，随着星间、星地以及终端间链路数量不断增大，航天器数量和类型的不断增加，综合利用人工智能、云计算、大数据等新一代信息技术，借鉴软件定义、虚拟化思想，开展天基资源统一管理和协同调度关键科学问题研究，对于天地一体化网络的构建意义十分重大。 
3.研究目标、研究内容和拟解决的关键问题
3.1研究内容
研究内容一：多粒度的天基资源虚拟化方法 
针对天基网业务具有高动态、多类型、大数据的特点，项目拟研究天基异质资源统一描述模型，建立统一的指标体系和转换机制，从面向属性、活动和过程三方面设计虚拟资源生成算法，提出虚拟资源生成标准，构建天基资源融合模型。
研究内容二：自适应的天基资源动态监测方法 
针对天基资源调度过程中存在时延大、传输环境差、拓扑结构易变、通信链路频繁连通/中断等问题，项目拟研究资源性能分析和评价的数学模型，融合主动和被动的测量方法，提出自适应的天基资源监测模型和方法。
3.2研究目标
本项目的研究目标是：针对天基网中各类卫星节点高动态运动、行为复杂、业务类型多样、资源的调度和管理难度大等挑战，基于软件定义网络和资源虚拟化的思想，提出动态可重构天基资源虚拟化方法，实现天基资源功能按需重构重组、能力动态扩展，解决天基网络中计算资源各自独立、互联互通能力低、信息保障能力差等问题，为未来天空一体化网络应用在军事、航天、环保等领域提供理论支撑和技术保障。具体的研究目标包括：
提出异构天基资源融合模型。将天基网分布异构的资源映射为一个可动态伸缩的虚拟资源池，考虑不同资源在资源优化过程中的地位、权重和关联性，建立统一的指标体系和转换机制，实现天基资源虚拟化。
提出自适应的天基资源监控方法。研究卫星网络性能分析和评价的数学方法，综合资源主动监控和被动监控方法，提出具有创新性的实时监测网络性能指标项的算法，实现对天基资源的可测可控 。 
3.3拟解决的关键科学问题 
关键问题一：天基多维异构资源的语义化
天基资源涉及多平台、多任务、异构的网络体系，不仅涵盖了实体性资源，也包括了功能性资源，从多粒度和多维度的角度进行分析，为实现高效的数据管理，提高其QoS性能，需要列出各类型资源的特征参数、联系，并抽象为严格的数学描述，研究不同资源在资源优化工作中的地位、关联，对资源进行多个角度的刻画，将资源原始数据语义化，转换为计算机可处理信息。
关键问题二：天基资源测量点选取和流量传播模型 
传统的资源测量方法无法适应天基资源动态时变的特点，必须采用多种测量方法对天基资源性能指标进行直接、间接测量。研究构造天基资源的流量矩阵，选取合适的天基资源测量点，并建立流量传播模型，以较低的开销实现网络拥塞的定位，实现对天基资源性能的测量。 
（二）拟采取的研究方法、技术路线及可行性分析
（1）多粒度的天基资源虚拟化方法
本项目拟基于项目组的前期研究成果软件定义天基网体系架构，对资源进行重新定义，使不同制式、不同能力的节点、链路实现互联互通，融合到天基网的整体架构中。 
在本项目的研究中，将天基资源按功能分类为如表 3.1 所示的六类资源，这 些资源又可以统一分为实体性和功能性两类。实体性资源主要包括重量、能量（功率）、时间、温度、时延、链路负荷（吞吐量）、存储空间、计算能力（设备能力）、 移动速度、拓扑结构、网络密度等。功能性资源主要作为对资源性能的描述，主要包括连通性、拥塞度、稳定性、可靠度、敏感度、安全性、可兼容性、优先级(处理/传输)、复杂度（计算/网络）、可扩展性（处理能力/网络规模）等。对天基资源分类是实现资源一体化的基础。
在对天基资源进行分类后，还需要对天基资源进行统一建模和描述，保证不同的资源个体在进行资源交换时信息不缺失，在进行资源共享时没有资源语义冲突，因此，对六类资源进行标准化描述，建立统一的指标体系和转换机制，实现资源一体化，是后续天基资源的协同有序调度和管理的前提条件。 
资源虚拟化是解决这一问题的有效途径，其本质是采用某种机制将底层的实体性资源(即物理资源、个体能力)和功能性资源转换为抽象的逻辑功能单元（资源数据单元，也就是资源规范化描述文档），将分布异构的资源映射为一个可动态伸缩的虚拟资源池，以实现个体间的资源全局共享与快速分配，支持个体间的无缝互操作。
资源虚拟化技术在消除了资源实体和资源内涵间隔离的同时，也为资源调度和协同管理提供了有效的实现方式。天基网络的资源管理，其表征方式是基于任务的资源调度，这是由其天基数据中心管理和军事需求的特征决定的，其要求就在于独立自主性和实时高效性，要求实现对任务目标的快速定位、实时响应和独立运行。因此，基于单一资源模型的资源管理和任务调度是不可取的，在协同性，兼容性和信息的处理和反馈速度上都不能达到现有目标的要求。而资源虚拟化技术不仅提供了对资源统一化和标准化管理的途径，也同时提供了对实时高效任务调度的可能性，乃至应用于基于流表交换机制的资源网络虚拟化，实现资源虚拟化和任务调度的结合，进一步提高天基资源管理的效率。
为了实现对多维资源的有效管理，首先要考查每种资源的特点，将可以描述该资源的所有特征参数都列举出来，再考查各种资源之间存在着怎样的联系，把这些特征参数、联系都抽象为严格的数学描述，便于理论研究、分析和运算，即多维资源的建模表征。资源的多维性从实体意义的角度来看是指认知无线通信网络中资源种类的多样性，从功能意义上的角度来看，资源的多维性还表现在对于某一种资源，可以从多个角度刻画其性能，即特征参数的多样性。进一步的，需要考察不同资源在资源优化过程中的地位、权重和相互关联，综合考虑对于整体资源优化的影响，建立统一的指标体系和转换机制，体现资源管理的有效性和泛用性。另外，还需要研究高效的优化算法，实现资源管理效率的提升。
我们在研究中提出构建天基资源融合模型，包含四层，分别是：资源层、监控层、虚拟层、应用层，其包含内容和处理过程如图 3.1 所示。资源以其客观实际的形态存在于资源层；通过监控层的监控设备、代理设备将其原始数据(静态特征、状态、负载)传送到虚拟层；虚拟层负责将异构的资源转换为同构的虚拟数据单元。 
在资源虚拟化设计过程中，首先设计资源描述规范将资源原始数据转换为计算机可处理的信息，然后解耦资源与能力，对二者信息填充语义，使其变为计算机可理解的知识，基于知识与资源能力间的关系将资源集成为虚拟数据单元，为应用层任务资源全生命周期活动提供支持；应用层则负责提供以任务为表征的虚拟资源管理，以及提供人机交互的接口。 
资源的规范化描述，通过对表示资源能力的关键特性进一步提取，将资源r表示为五元组, FAttr, Inbeh, ，其中 id 是资源标识；NFAttr 是资 源的非功能特性；FAttr 是资源的功能特性，基于属性进行描述；Inbeh 是资源的行为信息，通过行为信息的输入参数与输出参数揭示资源的功能特性；QoS 是资源的服务质量。
定义 3.1 设是资源聚合函数。对，F 满足下面的条件： 
(1)。
以上的资源聚合函数被用作虚拟资源生成的标准，的值表示x与 y的关联程度，在不同的粒度层次中针对不同的关注点具有不同的实例化形式。天基资源具有多功能、多任务、多目标的特性，一个资源针对不同的任务需求会提供不同的功能特性。同样的，同一个功能特性可以由多个分布的资源所提供。有些时候，一个资源无法精确地满足任务需求，它可以在某种程度上提供相似的功能特性。
为揭示资源的这些特点，给出如下的虚拟资源的定义。
定义 3.2 虚拟资源集合是基于 F 在资源集 R 上的一个划分。 是一个虚拟资源设 G 是虚拟资源 Ri 的中心，是虚拟资源集合中所有虚拟资源的中心集。
一个多粒度虚拟资源空间表示为。不同的虚拟资源集基于不同的资源聚合函数的实例化形式构建而成。为展示多粒度多视角的资源的功能特性并将这些特性有机地关联起来，MGR 需要从三个层次(过程、活动、属性)考虑各层次中的关注点设计合适的资源聚合函数。这三个层次与关注点分别对应影响复杂任务分解过程中的三个关键因素，也就是资源协同与组合、资源功能特性与活动需求功能特性粒度差、资源功能相似性。反映了资源管理的实际应用需求。
基于以上的定义，多粒度虚拟资源生成问题形式化描述如下：
	（3.1）
	（3.2） 
	（3.3） 
	（3.4） 

表示以给定的资源聚合函数，F 为标准进行计算而得到的每一个虚拟资源的聚合度，的值越大意味着对应的虚拟资源的聚合度越高，其中所包含的资源所具有的能力同构性越强。是决策变量,=1当且仅当资源被划分到虚拟资源中。表示资源隶属于虚拟资源的可能性。表示资源与虚拟资源的中心点间的关联程度。表示个虚拟资源的中心。在虚拟资源生成的初始化阶段，每一个虚拟资源的中心点随机产生；在虚拟资源生成的过程中，每一个虚拟资源的中心点会根据每一次迭代的结果进行更新。根据天基资源网络环境中不同粒度层的资源共享策略，分别定义符合各个粒度层的资源聚合函数，从三个不同的关注点设计虚拟资源生成算法。根据以上的分析，资源虚拟化方法大致可分为三类：面向属性的、面向活动的、面向过程的：
面向属性的虚拟资源生成，属于资源粒度层，依据资源所提供的完成任务的能力，将具有相同或相似能力关键特性的资源划分到同一虚权资源中，使得同一虚拟资源中包含的资源所提供的能力，具有较强的同构性。
面向活动的虚拟资源生成与两个方面相关联：①一个工作流中的子任务；②资源提供能力的关键特性。子任务资源需求的能力与资源提供的能力是影响活动粒度层虚拟资源生成质量的关键内容，它们决定了资源与活动间的匹配程度。然而，资源提供者对资源提供的能力的关键特性的描述与资源消费者对活动需求的能力的关键特性的描述在粒度层与所关注的视角方面都具有差异，因此要将两者的能力在两个维度上进行综合比较。在活动粒度层，资源聚合函数在考虑资源提供者提供的能力与资源消费者需求能力间相似性的基础上，还需要考虑资源提供者对资源消费者需求能力的贡献度。
面向过程的虚拟资源生成关联于为求解复杂任务所构建的工作流，支持在较粗的粒度层实现面向资源组合的资源发现与选择。其对应的解空间被组织为一棵树，树中的每一层对应一个面向活动的虚拟资源，虚拟资源的资源候选集。解空间的每一个节点表示一个资源。面向过程的虚拟资源生成的每一个解是由根节点到叶结点路径上的资源所构成的序列。
详细的求解算法采用深度优先搜索算法对解空间进行搜索。
（2）天基资源实时监测方法 
天基资源测量一般可分为被动监测和主动监测两种。主动监测的测量方式较为灵活，可操作性强，用户可以根据网络状况有目的、有选择的对拓扑中的某些链路和节点进行测量，从而达到应有的测量意图，但在测量的同时会引入额外的探测流量，占有一定的通信资源，由于天基网中卫星通信链路带宽有限，如果探测流量过大或者过于频繁，就会影响到正常流量行为。与主动监测相比，被动监测不会向网络中注入额外流量，对网络正常行为影响较小，但被动监测只是获取某些节点或某些链路的性能信息，如果没有各个节点的相互协作，就难以得到整体性能状况。因此对于天基资源的性能监测，无论是主动监测还是被动监测，都存在不足之处，为此，我们的研究中拟采用将二者结合的天基网络测量架构。天基资源的测量系统架构可分为四个层次，从低层到高层依次为数据层、控制层、管理层和视图层，各个层次在测量过程中承担着不同的分工，发挥着不同的作用，通过互相协同来完成针对目标网络的特定性能测量，并将分析处理后的性能结果呈现给网络管理员，如图 3.2 所示。
对于视图层而言，完成同网络管理员的交互。这种交互包括三方面的内容： 第一，接收网络管理员或者测量用户关于性能测量所设定的一些参数，这些参数 的设定旨在更加有目的、有针对性的监控目标网络，了解目标网络动态，如测量 时间、测量命令、测量代理地址、链路流量阀值等；第二，从管理层获取分析后 的性能测量数据，以直方图、扇形图、表格或者二维/三维坐标曲线等方式直观 地将性能结果呈现给网络管理员；第三，呈现目标网络的拓扑视图。
管理层是核心，在性能测量之前，根据天基资源测量需求生成相应的测量策 略；负责对这些测量结果数据进行管理、分析、存储和查询。因此，在系统架构 中，管理层主要涉及到拓扑多源抽象描述、测量策略生成、数据管理与分析以及 相关的测量方法或分析方法等几个部分。 
控制层主要起着数据传输的作用，一方面接收管理层产生的测量策略，通过 并发控制机制将测量策略高效地传递到相应的测量模块；另一方面接收来自数据 层的性能测量数据，经过简单过滤后上传到管理层。
数据层作为测量策略的最终执行者，作为原始性能测量数据的收集者，是最 为基础且最为关键的一层。当其接收到来自上层的测量策略后，数据层各测量代 理模块负责执行由测量策略指示的测量命令，并收集产生的性能测量结果，由于 这些性能测量数据是管理层和视图层工作的基础，因此，收集过程需要保证合理、 高效、全面。同时，测量系统架构不仅提供了各层之间通信的接口，而且定义了 与之相对应的通信协议，从而使测量系统架构具有良好的可扩展性，每个层次中 模块的增加或者删除都不会影响其它各层。
天基资源监测模型要适应于描述天基综合信息网络的特性,需采用多种测量方法对卫星通信网络性能指标进行直接、间接测量，测量机制拟采用自适应协同网络测量机制。我们拟提出天基资源测量点选取和流量传播模型。根据天基网资源的当前状态、应用特性和测量需求动态的选择测量点，研究如何构造网络节点之间的流量矩阵，以较低的开销来定位网络拥塞，诊断网络性能瓶颈。
由于天基网具有时延大、传输环境差、拓扑结构易变、通信链路频繁连通/ 中断等特点，因此在选择卫星网络性能分析和评价的数学工具时要考虑到卫星网 络本身的特性，以及网络数据流的特点。为此，基于天基综合信息网，将研究融合多种测量方法，综合多种算法，提出具有创新性的实时监测网络性能指标项的方法和算法，实现从不同维度测量、描述、量化网络性能。


